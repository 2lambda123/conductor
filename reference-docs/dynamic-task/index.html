<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Dynamic - Conductor</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="../../css/custom.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Dynamic";
    var mkdocs_page_input_path = "reference-docs/dynamic-task.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Conductor</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Introduction</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../architecture/">Architecture</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../server/">Installing Conductor Locally</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../running-locally-docker/">Installing via Docker Compose</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../gettingstarted/basicconcepts/">Basic Concepts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../gettingstarted/client/">Using the Client</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../gettingstarted/startworkflow/">Start a Workflow</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Configuration</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/taskdef/">Task Definition</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/workerdef/">Worker Definition</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/workflowdef/">Workflow Definition</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/systask/">System Tasks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/sysoperator/">System Operators</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/eventhandlers/">Event Handlers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/taskdomains/">Task Domains</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/isolationgroups/">Isolation Groups</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../apispec/">API Specification</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Operators</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../do-while-task/">Do/While</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dynamic/">Dynamic</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dynamic-fork-task/">Dynamic Fork</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../fork-task/">Fork</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../join-task/">Join</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../set-variable-task/">Set Variable</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../sub-workflow-task/">Sub Workflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../switch-task/">Switch</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../terminate-task/">Terminate</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../wait-task/">Wait</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">System Tasks</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../event-task/">Event Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../http-task/">HTTP Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../inline-task/">Inline Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../json-jq-transform-task/">JSON JQ Transform Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../kafka-publish-task/">Kafka Publish Task</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Conductor Metrics</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../metrics/server/">Server Metrics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../metrics/client/">Client Metrics</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../extend/">Extending Conductor</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../tasklifecycle/">Task Lifecycle</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../externalpayloadstorage/">External Payload Storage</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">How-Tos</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Workflows</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/debugging-workflows/">Debugging Workflows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/handling-errors/">Handliing Errors</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/searching-workflows/">Searching Workflows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/starting-workflows/">Starting a Workflow</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/updating-workflows/">Updating Workflows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/view-workflow-executions/">View Workflow Execution</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Tasks</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/creating-tasks/">Creating Task Definitions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/dynamic-vs-switch-tasks/">Dynamic vs Switch Tasks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/monitoring-task-queues/">Monitoring Task Queues</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/reusing-tasks/">Reusing Tasks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/task-configurations/">Task Configurations</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/task-inputs/">Task Inputs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/task-timeouts/">Task Timeouts</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/updating-tasks/">Updating Task Definitions</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Workers</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workers/build-a-golang-task-worker/">-Build a Go Task Worker</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workers/build-a-java-task-worker/">-Build a Java Task Worker</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workers/build-a-python-task-worker/">-Build a Python Task Worker</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Monitoring</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Monitoring/Conductor-LogLevel/">Conductor Log Level</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Developer Labs</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../labs/beginner/">Beginner</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../labs/running-first-workflow/">A First Workflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../labs/running-first-worker/">A First Worker</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../labs/eventhandlers/">Events and Event Handlers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../labs/kitchensink/">Kitchensink</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../bestpractices/">Best Practices</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../faq/">FAQ</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../technicaldetails/">Technical Details</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../license/">License</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Conductor</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>Dynamic</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Netflix/conductor/edit/main/docs/docs/reference-docs/dynamic-task.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="dynamic">Dynamic<a class="headerlink" href="#dynamic" title="Permanent link">&para;</a></h1>
<pre class="codehilite"><code class="language-json">&quot;type&quot; : &quot;DYNAMIC&quot;
</code></pre>

<h3 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h3>
<p>Dynamic Task allows to execute one of the registered Tasks dynamically at run-time.
It accepts the task name to execute as <code>taskToExecute</code> in <code>inputParameters</code>.</p>
<h3 id="use-cases">Use Cases<a class="headerlink" href="#use-cases" title="Permanent link">&para;</a></h3>
<p>Consider a scenario, when we have to make decision of executing a task dynamically i.e. while the workflow is still
running. In such cases, Dynamic Task would be useful.</p>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<p>Dynamic task is defined directly inside the workflow with type <code>DYNAMIC</code>.</p>
<h4 id="inputs">Inputs<a class="headerlink" href="#inputs" title="Permanent link">&para;</a></h4>
<p>Following are the input parameters :</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>dynamicTaskNameParam</td>
<td>Name of the parameter from the task input whose value is used to schedule the task.  e.g. if the value of the parameter is ABC, the next task scheduled is of type 'ABC'.</td>
</tr>
</tbody>
</table>
<h4 id="output">Output<a class="headerlink" href="#output" title="Permanent link">&para;</a></h4>
<p>TODO: Talk about output of the task, what to expect</p>
<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h3>
<p>Suppose in a workflow, we have to take decision to ship the courier with the shipping
service providers on the basis of Post Code.</p>
<p>Following task <code>shipping_info</code> generates an output on the basis of which decision would be
taken to run the next task.</p>
<pre class="codehilite"><code class="language-json">{
  &quot;name&quot;: &quot;shipping_info&quot;,
  &quot;retryCount&quot;: 3,
  &quot;timeoutSeconds&quot;: 600,
  &quot;pollTimeoutSeconds&quot;: 1200,
  &quot;timeoutPolicy&quot;: &quot;TIME_OUT_WF&quot;,
  &quot;retryLogic&quot;: &quot;FIXED&quot;,
  &quot;retryDelaySeconds&quot;: 300,
  &quot;responseTimeoutSeconds&quot;: 300,
  &quot;concurrentExecLimit&quot;: 100,
  &quot;rateLimitFrequencyInSeconds&quot;: 60,
  &quot;ownerEmail&quot;:&quot;abc@example.com&quot;,
  &quot;rateLimitPerFrequency&quot;: 1
}
</code></pre>

<p>Following are the two worker tasks, one among them would execute on the basis of output generated
by the <code>shipping_info</code> task :</p>
<pre class="codehilite"><code class="language-json">{
  &quot;name&quot;: &quot;ship_via_fedex&quot;,
  &quot;retryCount&quot;: 3,
  &quot;timeoutSeconds&quot;: 600,
  &quot;pollTimeoutSeconds&quot;: 1200,
  &quot;timeoutPolicy&quot;: &quot;TIME_OUT_WF&quot;,
  &quot;retryLogic&quot;: &quot;FIXED&quot;,
  &quot;retryDelaySeconds&quot;: 300,
  &quot;responseTimeoutSeconds&quot;: 300,
  &quot;concurrentExecLimit&quot;: 100,
  &quot;rateLimitFrequencyInSeconds&quot;: 60,
  &quot;ownerEmail&quot;:&quot;abc@example.com&quot;,
  &quot;rateLimitPerFrequency&quot;: 2
},
{
  &quot;name&quot;: &quot;ship_via_ups&quot;,
  &quot;retryCount&quot;: 3,
  &quot;timeoutSeconds&quot;: 600,
  &quot;pollTimeoutSeconds&quot;: 1200,
  &quot;timeoutPolicy&quot;: &quot;TIME_OUT_WF&quot;,
  &quot;retryLogic&quot;: &quot;FIXED&quot;,
  &quot;retryDelaySeconds&quot;: 300,
  &quot;responseTimeoutSeconds&quot;: 300,
  &quot;concurrentExecLimit&quot;: 100,
  &quot;rateLimitFrequencyInSeconds&quot;: 60,
  &quot;ownerEmail&quot;:&quot;abc@example.com&quot;,
  &quot;rateLimitPerFrequency&quot;: 2
}
</code></pre>

<p>We will create the Workflow with the following definition :</p>
<pre class="codehilite"><code class="language-json">{
  &quot;name&quot;: &quot;Shipping_Flow&quot;,
  &quot;description&quot;: &quot;Ships smartly on the basis of Shipping info&quot;,
  &quot;version&quot;: 1,
  &quot;tasks&quot;: [
    {
      &quot;name&quot;: &quot;shipping_info&quot;,
      &quot;taskReferenceName&quot;: &quot;shipping_info&quot;,
      &quot;inputParameters&quot;: {
      },
      &quot;type&quot;: &quot;SIMPLE&quot;
    },
    {
      &quot;name&quot;: &quot;shipping_task&quot;,
      &quot;taskReferenceName&quot;: &quot;shipping_task&quot;,
      &quot;inputParameters&quot;: {
        &quot;taskToExecute&quot;: &quot;${shipping_info.output.shipping_service}&quot;
      },
      &quot;type&quot;: &quot;DYNAMIC&quot;,
      &quot;dynamicTaskNameParam&quot;: &quot;taskToExecute&quot;
    }

  ],
  &quot;restartable&quot;: true,
  &quot;ownerEmail&quot;:&quot;abc@example.com&quot;,
  &quot;workflowStatusListenerEnabled&quot;: true,
  &quot;schemaVersion&quot;: 2
}
</code></pre>

<p>Workflow is the created as shown in the below diagram.</p>
<p><img alt="Conductor UI - Workflow Diagram" src="/img/tutorial/ShippingWorkflow.png" /></p>
<p>Note : <code>shipping_task</code> is a <code>DYNAMIC</code> task and the <code>taskToExecute</code> parameter can be set
with input value provided while running the workflow or with the output of previous tasks.
Here, it is set to the output provided by the previous task i.e.
<code>${shipping_info.output.shipping_service}</code>.</p>
<p>If the input value is provided while running the workflow it can be accessed by
<code>${workflow.input.shipping_service}</code>.</p>
<pre class="codehilite"><code class="language-json">{
  &quot;shipping_service&quot;: &quot;ship_via_fedex&quot;
}
</code></pre>

<p>We can see in the below example that on the basis of Post Code the shipping service is being
decided.</p>
<p><code>js reference
https://github.com/orkes-io/orkesworkers/blob/main/src/main/java/io/orkes/samples/workers/ShippingInfoWorker.java#L10-L36</code></p>
<p>Based on given set of inputs i.e. Post Code starts with '9' hence, <code>ship_via_fedex</code> is executed -</p>
<p><img alt="Conductor UI - Workflow Run" src="/img/tutorial/ShippingWorkflowRunning.png" /></p>
<p>If the Post Code started with anything other than 9 <code>ship_via_ups</code> is executed -</p>
<p><img alt="Conductor UI - Workflow Run" src="/img/tutorial/ShippingWorkflowUPS.png" /></p>
<p>If the incorrect task name or the task that doesn't exist is provided then the workflow fails and
we get the error <code>"Invalid task specified. Cannot find task by name in the task definitions."</code></p>
<p>If the null reference is provided in the task name then also the workflow fails and we get the
error <code>"Cannot map a dynamic task based on the parameter and input. Parameter= taskToExecute, input= {taskToExecute=null}"</code></p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/Netflix/conductor/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
