<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Installing via Docker Compose - Conductor</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="../css/custom.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Installing via Docker Compose";
    var mkdocs_page_input_path = "running-locally-docker.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Conductor</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../architecture/">Architecture</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../server/">Installing Conductor Locally</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Installing via Docker Compose</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#steps">Steps</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-clone-the-conductor-code">1. Clone the Conductor Code</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-build-the-docker-compose">2. Build the Docker Compose</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#note-conductor-supplies-multiple-docker-compose-templates-that-can-be-used-with-different-configurations">Note: Conductor supplies multiple docker compose templates that can be used with different configurations:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-run-docker-compose">3. Run Docker Compose</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#potential-problems">Potential problems</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../gettingstarted/basicconcepts/">Basic Concepts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../gettingstarted/client/">Using the Client</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../gettingstarted/startworkflow/">Start a Workflow</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Configuration</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../configuration/taskdef/">Task Definition</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../configuration/workerdef/">Worker Definition</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../configuration/workflowdef/">Workflow Definition</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../configuration/systask/">System Tasks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../configuration/sysoperator/">System Operators</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../configuration/eventhandlers/">Event Handlers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../configuration/taskdomains/">Task Domains</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../configuration/isolationgroups/">Isolation Groups</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../apispec/">API Specification</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Operators</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/do-while-task/">Do/While</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/dynamic/">Dynamic</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/dynamic-fork-task/">Dynamic Fork</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/fork-task/">Fork</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/join-task/">Join</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/set-variable-task/">Set Variable</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/sub-workflow-task/">Sub Workflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/switch-task/">Switch</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/terminate-task/">Terminate</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/wait-task/">Wait</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">System Tasks</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/event-task/">Event Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/http-task/">HTTP Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/inline-task/">Inline Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/json-jq-transform-task/">JSON JQ Transform Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reference-docs/kafka-publish-task/">Kafka Publish Task</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Conductor Metrics</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../metrics/server/">Server Metrics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../metrics/client/">Client Metrics</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../extend/">Extending Conductor</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../tasklifecycle/">Task Lifecycle</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../externalpayloadstorage/">External Payload Storage</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">How-Tos</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Workflows</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Workflows/debugging-workflows/">Debugging Workflows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Workflows/handling-errors/">Handliing Errors</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Workflows/searching-workflows/">Searching Workflows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Workflows/starting-workflows/">Starting a Workflow</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Workflows/updating-workflows/">Updating Workflows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Workflows/view-workflow-executions/">View Workflow Execution</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Tasks</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Tasks/creating-tasks/">Creating Task Definitions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Tasks/dynamic-vs-switch-tasks/">Dynamic vs Switch Tasks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Tasks/monitoring-task-queues/">Monitoring Task Queues</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Tasks/reusing-tasks/">Reusing Tasks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Tasks/task-configurations/">Task Configurations</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Tasks/task-inputs/">Task Inputs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Tasks/task-timeouts/">Task Timeouts</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Tasks/updating-tasks/">Updating Task Definitions</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Workers</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Workers/build-a-golang-task-worker/">-Build a Go Task Worker</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Workers/build-a-java-task-worker/">-Build a Java Task Worker</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Workers/build-a-python-task-worker/">-Build a Python Task Worker</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Monitoring</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../how-tos/Monitoring/Conductor-LogLevel/">Conductor Log Level</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Developer Labs</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../labs/beginner/">Beginner</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../labs/running-first-workflow/">A First Workflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../labs/running-first-worker/">A First Worker</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../labs/eventhandlers/">Events and Event Handlers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../labs/kitchensink/">Kitchensink</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../bestpractices/">Best Practices</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../faq/">FAQ</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../technicaldetails/">Technical Details</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../license/">License</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Conductor</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Getting Started &raquo;</li>
        
      
    
    <li>Installing via Docker Compose</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Netflix/conductor/edit/main/docs/docs/running-locally-docker.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="running-via-docker-compose">Running via Docker Compose<a class="headerlink" href="#running-via-docker-compose" title="Permanent link">&para;</a></h1>
<p>In this article we will explore how you can set up Netflix Conductor on your local machine using Docker compose.
The docker compose will bring up the following:
1. Conductor API Server
2. Conductor UI
3. Elasticsearch for searching workflows</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ol>
<li>Docker: <a href="https://docs.docker.com/get-docker/">https://docs.docker.com/get-docker/</a></li>
<li>Recommended host with CPU and RAM to be able to run multiple docker containers (at-least 16GB RAM)</li>
</ol>
<h2 id="steps">Steps<a class="headerlink" href="#steps" title="Permanent link">&para;</a></h2>
<h4 id="1-clone-the-conductor-code">1. Clone the Conductor Code<a class="headerlink" href="#1-clone-the-conductor-code" title="Permanent link">&para;</a></h4>
<pre class="codehilite"><code class="language-shell">$ git clone https://github.com/Netflix/conductor.git
</code></pre>

<h4 id="2-build-the-docker-compose">2. Build the Docker Compose<a class="headerlink" href="#2-build-the-docker-compose" title="Permanent link">&para;</a></h4>
<pre class="codehilite"><code class="language-shell">$ cd conductor
conductor $ cd docker
docker $ docker-compose build
</code></pre>

<h4 id="note-conductor-supplies-multiple-docker-compose-templates-that-can-be-used-with-different-configurations">Note: Conductor supplies multiple docker compose templates that can be used with different configurations:<a class="headerlink" href="#note-conductor-supplies-multiple-docker-compose-templates-that-can-be-used-with-different-configurations" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Containers</th>
</tr>
</thead>
<tbody>
<tr>
<td>docker-compose.yaml</td>
<td>1. In Memory Conductor Server 2. Elasticsearch 3. UI</td>
</tr>
<tr>
<td>docker-compose-dynomite.yaml</td>
<td>1. In Memory Conductor Server 2. Elasticsearch 3. UI 4. Dynomite Redis for persistence</td>
</tr>
<tr>
<td>docker-compose-postgres.yaml</td>
<td>1. In Memory Conductor Server 2. Elasticsearch 3. UI 4. Postgres persistence</td>
</tr>
<tr>
<td>docker-compose-prometheus.yaml</td>
<td>Brings up Prometheus server</td>
</tr>
</tbody>
</table>
<h4 id="3-run-docker-compose">3. Run Docker Compose<a class="headerlink" href="#3-run-docker-compose" title="Permanent link">&para;</a></h4>
<pre class="codehilite"><code class="language-shell">docker $ docker-compose up
</code></pre>

<p>Once up and running, you will see the following in your Docker dashboard:</p>
<ol>
<li>Elasticsearch</li>
<li>Conductor UI</li>
<li>Conductor Server</li>
</ol>
<p>You can access all three on your browser to verify that it is running correctly:</p>
<p>Conductor Server URL: <a href="http://localhost:8080/swagger-ui/index.html?configUrl=/api-docs/swagger-config">http://localhost:8080/swagger-ui/index.html?configUrl=/api-docs/swagger-config</a></p>
<p><img alt="Conductor Server Home Page" src="../img/tutorial/swagger.png" /></p>
<p>Conductor UI URL: <a href="http://localhost:5000/">http://localhost:5000/</a></p>
<p><img alt="Conductor Server Home Page" src="../img/tutorial/conductorUIHome.png" /></p>
<h3 id="potential-problems">Potential problems<a class="headerlink" href="#potential-problems" title="Permanent link">&para;</a></h3>
<ol>
<li>Not enough memory<ol>
<li>You will need at least 16 GB of memory to run everything. You can modify the docker compose to skip using
   Elasticsearch if you have no option to run this with your memory options.</li>
<li>To disable Elasticsearch using Docker Compose - follow the steps listed here: <strong>TODO LINK</strong></li>
</ol>
</li>
<li>Elasticsearch fails to come up in arm64 based CPU machines<ol>
<li>As of writing this article, Conductor relies on 6.8.x version of Elasticsearch. This version doesn't have an
   arm64 based Docker image. You will need to use Elasticsearch 7.x which requires a bit of customization to get up
   and running   </li>
</ol>
</li>
<li>Elasticsearch remains in Yellow health<ol>
<li>When you run Elasticsearch, sometimes the health remains in Yellow state. Conductor server by default requires
   Green state to run when indexing is enabled. To work around this, you can use the following property: 
   <code>conductor.elasticsearch.clusteHealthColor=yellow</code> Reference: <a href="https://github.com/Netflix/conductor/issues/2262">Issue 2262</a></li>
</ol>
</li>
</ol>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../gettingstarted/basicconcepts/" class="btn btn-neutral float-right" title="Basic Concepts">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../server/" class="btn btn-neutral" title="Installing Conductor Locally"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/Netflix/conductor/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../server/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../gettingstarted/basicconcepts/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
