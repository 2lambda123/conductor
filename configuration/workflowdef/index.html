<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Workflow Definition - Conductor</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="../../css/custom.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Workflow Definition";
    var mkdocs_page_input_path = "configuration/workflowdef.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Conductor</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Introduction</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../architecture/">Architecture</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../server/">Installing Conductor Locally</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../running-locally-docker/">Installing via Docker Compose</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../gettingstarted/basicconcepts/">Basic Concepts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../gettingstarted/client/">Using the Client</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../gettingstarted/startworkflow/">Start a Workflow</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Configuration</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../taskdef/">Task Definition</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../workerdef/">Worker Definition</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Workflow Definition</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#what-are-workflows">What are Workflows?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#what-does-a-workflow-look-like">What does a Workflow look like?</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#simple-workflow-example">Simple Workflow Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#fields-in-a-workflow">Fields in a Workflow</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tasks-within-workflow">Tasks within Workflow</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#wiring-inputs-and-outputs">Wiring Inputs and Outputs</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#using-inputtemplate">Using inputTemplate</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#workflow-notifications">Workflow notifications</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../systask/">System Tasks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../sysoperator/">System Operators</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../eventhandlers/">Event Handlers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../taskdomains/">Task Domains</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../isolationgroups/">Isolation Groups</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../apispec/">API Specification</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Operators</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/do-while-task/">Do/While</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/dynamic/">Dynamic</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/dynamic-fork-task/">Dynamic Fork</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/fork-task/">Fork</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/join-task/">Join</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/set-variable-task/">Set Variable</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/sub-workflow-task/">Sub Workflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/switch-task/">Switch</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/terminate-task/">Terminate</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/wait-task/">Wait</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">System Tasks</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/event-task/">Event Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/http-task/">HTTP Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/inline-task/">Inline Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/json-jq-transform-task/">JSON JQ Transform Task</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reference-docs/kafka-publish-task/">Kafka Publish Task</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Conductor Metrics</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../metrics/server/">Server Metrics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../metrics/client/">Client Metrics</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../extend/">Extending Conductor</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../tasklifecycle/">Task Lifecycle</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../externalpayloadstorage/">External Payload Storage</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">How-Tos</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Workflows</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/debugging-workflows/">Debugging Workflows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/handling-errors/">Handliing Errors</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/searching-workflows/">Searching Workflows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/starting-workflows/">Starting a Workflow</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/updating-workflows/">Updating Workflows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workflows/view-workflow-executions/">View Workflow Execution</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Tasks</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/creating-tasks/">Creating Task Definitions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/dynamic-vs-switch-tasks/">Dynamic vs Switch Tasks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/monitoring-task-queues/">Monitoring Task Queues</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/reusing-tasks/">Reusing Tasks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/task-configurations/">Task Configurations</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/task-inputs/">Task Inputs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/task-timeouts/">Task Timeouts</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Tasks/updating-tasks/">Updating Task Definitions</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Workers</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workers/build-a-golang-task-worker/">-Build a Go Task Worker</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workers/build-a-java-task-worker/">-Build a Java Task Worker</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Workers/build-a-python-task-worker/">-Build a Python Task Worker</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Monitoring</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../how-tos/Monitoring/Conductor-LogLevel/">Conductor Log Level</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Developer Labs</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../labs/beginner/">Beginner</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../labs/running-first-workflow/">A First Workflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../labs/running-first-worker/">A First Worker</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../labs/eventhandlers/">Events and Event Handlers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../labs/kitchensink/">Kitchensink</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../bestpractices/">Best Practices</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../faq/">FAQ</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../technicaldetails/">Technical Details</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../license/">License</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Conductor</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Configuration &raquo;</li>
        
      
    
    <li>Workflow Definition</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Netflix/conductor/edit/main/docs/docs/configuration/workflowdef.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="workflows">Workflows<a class="headerlink" href="#workflows" title="Permanent link">&para;</a></h1>
<h2 id="what-are-workflows">What are Workflows?<a class="headerlink" href="#what-are-workflows" title="Permanent link">&para;</a></h2>
<p>At a high level, a workflow is the Conductor primitive that encompasses the definition and flow of your business logic.
A workflow is a collection (graph) of tasks and sub-workflows. A workflow definition specifies the order of execution of
these <a href="../taskdef/">Tasks</a>. It also specifies how data/state is passed from one task to the other (using the
input/output parameters). These are then combined together to give you the final result. This orchestration of Tasks can
happen in a hybrid ecosystem that includes microservices, serverless functions, and monolithic applications. They can
also span across any public cloud and on-premise data center footprints. In addition, the orchestration of tasks can be
across any programming language since Conductor is also language agnostic.</p>
<p>One key benefit of this approach is that you can build a complex application using simple and granular tasks that do not
need to be aware of or keep track of the state of your application's execution flow. Conductor keeps track of the state,
calls tasks in the right order (sequentially or in parallel, as defined by you), retry calls if needed, handle failure
scenarios gracefully, and outputs the final result.</p>
<p>Leveraging workflows in Conductor enables developers to truly focus on their core mission - building their application
code in the languages of their choice. Conductor does the heavy lifting associated with ensuring high
reliability, transactional consistency, and long durability of their workflows. Simply put, wherever your application's
component lives and whichever languages they were written in, you can build a workflow in Conductor to orchestrate their
execution in a reliable &amp; scalable manner.</p>
<h2 id="what-does-a-workflow-look-like">What does a Workflow look like?<a class="headerlink" href="#what-does-a-workflow-look-like" title="Permanent link">&para;</a></h2>
<p>Let's start with a basic workflow and understand what are the different aspects of it. In particular, we will talk about
two stages of a workflow, <em>defining</em> a workflow and <em>executing</em> a workflow</p>
<h3 id="simple-workflow-example"><em>Simple Workflow Example</em><a class="headerlink" href="#simple-workflow-example" title="Permanent link">&para;</a></h3>
<p>Assume your business logic is to simply to get some shipping information and then do the shipping. You start by
logically partitioning them into two tasks:</p>
<ul>
<li><strong>shipping_info</strong></li>
<li><strong>shipping_task</strong></li>
</ul>
<p>First we would build these two task definitions. Let's assume that <code>shipping info</code> takes an account number, and returns a name and address.</p>
<p><strong>Example</strong></p>
<pre class="codehilite"><code class="language-json">{
  &quot;name&quot;: &quot;mail_a_box&quot;,
  &quot;description&quot;: &quot;shipping Workflow&quot;,
  &quot;version&quot;: 1,
  &quot;tasks&quot;: [
    {
      &quot;name&quot;: &quot;shipping_info&quot;,
      &quot;taskReferenceName&quot;: &quot;shipping_info_ref&quot;,
      &quot;inputParameters&quot;: {
        &quot;account&quot;: &quot;${workflow.input.accountNumber}&quot;
      },
      &quot;type&quot;: &quot;SIMPLE&quot;
    },
    {
      &quot;name&quot;: &quot;shipping_task&quot;,
      &quot;taskReferenceName&quot;: &quot;shipping_task_ref&quot;,
      &quot;inputParameters&quot;: {
        &quot;name&quot;: &quot;${shipping_info_ref.output.name}&quot;,
        &quot;streetAddress&quot;: &quot;${shipping_info_ref.output.streetAddress}&quot;,
        &quot;city&quot;: &quot;${shipping_info_ref.output.city}&quot;,
        &quot;state&quot;: &quot;${shipping_info_ref.output.state}&quot;,
        &quot;zipcode&quot;: &quot;${shipping_info_ref.output.zipcode}&quot;,
      },
      &quot;type&quot;: &quot;SIMPLE&quot;
    }
  ],
  &quot;outputParameters&quot;: {
    &quot;trackingNumber&quot;: &quot;${shipping_task_ref.output.trackinNumber}&quot;
  },
  &quot;failureWorkflow&quot;: &quot;shipping_issues&quot;,
  &quot;restartable&quot;: true,
  &quot;workflowStatusListenerEnabled&quot;: true,
  &quot;ownerEmail&quot;: &quot;devrel@orkes.io&quot;,
  &quot;timeoutPolicy&quot;: &quot;ALERT_ONLY&quot;,
  &quot;timeoutSeconds&quot;: 0,
  &quot;variables&quot;: {},
  &quot;inputTemplate&quot;: {}
}
</code></pre>

<p>The mail_a_box workflow has 2 tasks:
 1. The first task takes the provided account number, and outpus an address.<br />
 2. The 2nd task takes the address infom and generates a shipping label.</p>
<p>Upon completion of the 2 tasks, the workflow outpust the trackking number generated in the 2nd task.  If the workflow fails, a second workflow named <code>shipping_issues</code> is run.</p>
<h2 id="fields-in-a-workflow">Fields in a Workflow<a class="headerlink" href="#fields-in-a-workflow" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th align="left">field</th>
<th align="left">description</th>
<th align="left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">name</td>
<td align="left">Name of the workflow</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">description</td>
<td align="left">Description of the workflow</td>
<td align="left">optional</td>
</tr>
<tr>
<td align="left">version</td>
<td align="left">Numeric field used to identify the version of the schema.  Use incrementing numbers</td>
<td align="left">When starting a workflow execution, if not specified, the definition with highest version is used</td>
</tr>
<tr>
<td align="left">tasks</td>
<td align="left">An array of task definitions.</td>
<td align="left"><a href="#tasks-within-workflow">Task properties</a></td>
</tr>
<tr>
<td align="left">inputParameters</td>
<td align="left">List of input parameters. Used for documenting the required inputs to workflow</td>
<td align="left">optional</td>
</tr>
<tr>
<td align="left">inputTemplate</td>
<td align="left">Default input values. See <a href="#using-inputtemplate">Using inputTemplate</a></td>
<td align="left">optional</td>
</tr>
<tr>
<td align="left">outputParameters</td>
<td align="left">JSON template used to generate the output of the workflow</td>
<td align="left">If not specified, the output is defined as the output of the <em>last</em> executed task</td>
</tr>
<tr>
<td align="left">failureWorkflow</td>
<td align="left">String; Workflow to be run on current Workflow failure. Useful for cleanup or post actions on failure.</td>
<td align="left">optional</td>
</tr>
<tr>
<td align="left">schemaVersion</td>
<td align="left">Current Conductor Schema version. schemaVersion 1 is discontinued.</td>
<td align="left">Must be 2</td>
</tr>
<tr>
<td align="left">restartable</td>
<td align="left">Boolean flag to allow Workflow restarts</td>
<td align="left">defaults to true</td>
</tr>
<tr>
<td align="left">workflowStatusListenerEnabled</td>
<td align="left">If true, every workflow that gets terminated or completed will send a notification. See <a href="#workflow-notifications">workflow notifictions</a></td>
<td align="left">optional (false by default)</td>
</tr>
</tbody>
</table>
<h2 id="tasks-within-workflow">Tasks within Workflow<a class="headerlink" href="#tasks-within-workflow" title="Permanent link">&para;</a></h2>
<p><code>tasks</code> property in a workflow execution defines an array of tasks to be executed in that order.</p>
<table>
<thead>
<tr>
<th align="left">field</th>
<th align="left">description</th>
<th align="left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">name</td>
<td align="left">Name of the task. MUST be registered as a task with Conductor before starting the workflow</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">taskReferenceName</td>
<td align="left">Alias used to refer the task within the workflow.  MUST be unique within workflow.</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">Type of task. SIMPLE for tasks executed by remote workers, or one of the system task types</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">description</td>
<td align="left">Description of the task</td>
<td align="left">optional</td>
</tr>
<tr>
<td align="left">optional</td>
<td align="left">true  or false.  When set to true - workflow continues even if the task fails.  The status of the task is reflected as <code>COMPLETED_WITH_ERRORS</code></td>
<td align="left">Defaults to <code>false</code></td>
</tr>
<tr>
<td align="left">inputParameters</td>
<td align="left">JSON template that defines the input given to the task</td>
<td align="left">See <a href="#wiring-inputs-and-outputs">Wiring Inputs and Outputs</a> for details</td>
</tr>
<tr>
<td align="left">domain</td>
<td align="left">See <a href="/conductor/configuration/taskdomains">Task Domains</a> for more information.</td>
<td align="left">optional</td>
</tr>
</tbody>
</table>
<p>In addition to these parameters, System Tasks have their own parameters. Checkout <a href="/conductor/configuration/systask/">System Tasks</a> for more information.</p>
<h2 id="wiring-inputs-and-outputs">Wiring Inputs and Outputs<a class="headerlink" href="#wiring-inputs-and-outputs" title="Permanent link">&para;</a></h2>
<p>Workflows are supplied inputs by client when a new execution is triggered. 
Workflow input is a JSON payload that is available via <code>${workflow.input...}</code> expressions. </p>
<p>Each task in the workflow is given input based on the <code>inputParameters</code> template configured in workflow definition.  <code>inputParameters</code> is a JSON fragment with value containing parameters for mapping values from input or output of a workflow or another task during the execution.</p>
<p>Syntax for mapping the values follows the pattern as: </p>
<p><strong>${SOURCE.input/output.JSONPath}</strong></p>
<table>
<thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SOURCE</td>
<td>can be either "workflow" or any of the task reference name</td>
</tr>
<tr>
<td>input/output</td>
<td>refers to either the input or output of the source</td>
</tr>
<tr>
<td>JSONPath</td>
<td>JSON path expression to extract JSON fragment from source's input/output</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">JSON Path Support</p>
<p>Conductor supports <a href="http://goessner.net/articles/JsonPath/">JSONPath</a> specification and uses Java implementation from <a href="https://github.com/jayway/JsonPath">here</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Escaping expressions</p>
<p>To escape an expression, prefix it with an extra <em>$</em> character (ex.: <code>$${workflow.input...}</code>).</p>
</div>
<p><strong>Example</strong></p>
<p>Consider a task with input configured to use input/output parameters from workflow and a task named <strong>loc_task</strong>.</p>
<pre class="codehilite"><code class="language-json">{
  &quot;inputParameters&quot;: {
    &quot;movieId&quot;: &quot;${workflow.input.movieId}&quot;,
    &quot;url&quot;: &quot;${workflow.input.fileLocation}&quot;,
    &quot;lang&quot;: &quot;${loc_task.output.languages[0]}&quot;,
    &quot;http_request&quot;: {
      &quot;method&quot;: &quot;POST&quot;,
      &quot;url&quot;: &quot;http://example.com/${loc_task.output.fileId}/encode&quot;,
      &quot;body&quot;: {
        &quot;recipe&quot;: &quot;${workflow.input.recipe}&quot;,
        &quot;params&quot;: {
          &quot;width&quot;: 100,
          &quot;height&quot;: 100
        }
      },
      &quot;headers&quot;: {
        &quot;Accept&quot;: &quot;application/json&quot;,
        &quot;Content-Type&quot;: &quot;application/json&quot;
      }
    }
  }
}
</code></pre>

<p>Consider the following as the <em>workflow input</em></p>
<pre class="codehilite"><code class="language-json">{
  &quot;movieId&quot;: &quot;movie_123&quot;,
  &quot;fileLocation&quot;:&quot;s3://moviebucket/file123&quot;,
  &quot;recipe&quot;:&quot;png&quot;
}
</code></pre>

<p>And the output of the <em>loc_task</em> as the following;</p>
<pre class="codehilite"><code class="language-json">{
  &quot;fileId&quot;: &quot;file_xxx_yyy_zzz&quot;,
  &quot;languages&quot;: [&quot;en&quot;,&quot;ja&quot;,&quot;es&quot;]
}
</code></pre>

<p>When scheduling the task, Conductor will merge the values from workflow input and loc_task's output and create the input to the task as follows:</p>
<pre class="codehilite"><code class="language-json">{
  &quot;movieId&quot;: &quot;movie_123&quot;,
  &quot;url&quot;: &quot;s3://moviebucket/file123&quot;,
  &quot;lang&quot;: &quot;en&quot;,
  &quot;http_request&quot;: {
    &quot;method&quot;: &quot;POST&quot;,
    &quot;url&quot;: &quot;http://example.com/file_xxx_yyy_zzz/encode&quot;,
    &quot;body&quot;: {
      &quot;recipe&quot;: &quot;png&quot;,
      &quot;params&quot;: {
        &quot;width&quot;: 100,
        &quot;height&quot;: 100
      }
    },
    &quot;headers&quot;: {
        &quot;Accept&quot;: &quot;application/json&quot;,
        &quot;Content-Type&quot;: &quot;application/json&quot;
    }
  }
}
</code></pre>

<h3 id="using-inputtemplate">Using inputTemplate<a class="headerlink" href="#using-inputtemplate" title="Permanent link">&para;</a></h3>
<ul>
<li><code>inputTemplate</code> allows to define default values, which can be overridden by values provided in Workflow.</li>
<li>Eg: In your Workflow Definition, you can define your inputTemplate as:</li>
</ul>
<pre class="codehilite"><code class="language-json">&quot;inputTemplate&quot;: {
    &quot;url&quot;: &quot;https://some_url:7004&quot;
}
</code></pre>

<p>And <code>url</code> would be <code>https://some_url:7004</code> if no <code>url</code> was provided as input to your workflow.</p>
<h2 id="workflow-notifications">Workflow notifications<a class="headerlink" href="#workflow-notifications" title="Permanent link">&para;</a></h2>
<p>Conductor can be configured to publish notifications to external systems upon completion/termination of workflows. See <a href="../../extend/#workflow-status-listener">extending conductor</a> for details.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../systask/" class="btn btn-neutral float-right" title="System Tasks">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../workerdef/" class="btn btn-neutral" title="Worker Definition"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/Netflix/conductor/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../workerdef/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../systask/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
