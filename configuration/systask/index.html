<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>System Tasks - Conductor</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../css/custom.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "System Tasks";
    var mkdocs_page_input_path = "configuration/systask.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Conductor</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Introduction</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../architecture/">Architecture</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Getting Started</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../gettingstarted/basicconcepts/">Basic Concepts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../gettingstarted/client/">Using the Client</a>
                </li>
                <li class="">
                    
    <a class="" href="../../gettingstarted/startworkflow/">Start a Workflow</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Configuration</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../taskdef/">Task Definition</a>
                </li>
                <li class="">
                    
    <a class="" href="../workflowdef/">Workflow Definition</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">System Tasks</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#decision">Decision</a></li>
    

    <li class="toctree-l3"><a href="#event">Event</a></li>
    

    <li class="toctree-l3"><a href="#http">HTTP</a></li>
    

    <li class="toctree-l3"><a href="#sub-workflow">Sub Workflow</a></li>
    

    <li class="toctree-l3"><a href="#fork">Fork</a></li>
    

    <li class="toctree-l3"><a href="#dynamic-fork">Dynamic Fork</a></li>
    

    <li class="toctree-l3"><a href="#join">Join</a></li>
    

    <li class="toctree-l3"><a href="#exclusive-join">Exclusive Join</a></li>
    

    <li class="toctree-l3"><a href="#wait">Wait</a></li>
    

    <li class="toctree-l3"><a href="#dynamic-task">Dynamic Task</a></li>
    

    <li class="toctree-l3"><a href="#lambda-task">Lambda Task</a></li>
    

    <li class="toctree-l3"><a href="#terminate-task">Terminate Task</a></li>
    

    <li class="toctree-l3"><a href="#kafka-publish-task">Kafka Publish Task</a></li>
    

    <li class="toctree-l3"><a href="#do-while-task">Do While Task</a></li>
    

    <li class="toctree-l3"><a href="#json-jq-transform-task">JSON JQ Transform Task</a></li>
    

    <li class="toctree-l3"><a href="#set-variable-task">Set Variable Task</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../eventhandlers/">Event Handlers</a>
                </li>
                <li class="">
                    
    <a class="" href="../taskdomains/">Task Domains</a>
                </li>
                <li class="">
                    
    <a class="" href="../isolationgroups/">Isolation Groups</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../server/">Conductor Server</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../apispec/">API Specification</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Conductor Metrics</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../metrics/server/">Server Metrics</a>
                </li>
                <li class="">
                    
    <a class="" href="../../metrics/client/">Client Metrics</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../extend/">Extending Conductor</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../tasklifecycle/">Task Lifecycle</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../externalpayloadstorage/">External Payload Storage</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Developer Labs</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../labs/beginner/">Beginner</a>
                </li>
                <li class="">
                    
    <a class="" href="../../labs/eventhandlers/">Events and Event Handlers</a>
                </li>
                <li class="">
                    
    <a class="" href="../../labs/kitchensink/">Kitchensink</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../bestpractices/">Best Practices</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../faq/">FAQ</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../technicaldetails/">Technical Details</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../license/">License</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Conductor</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Configuration &raquo;</li>
        
      
    
    <li>System Tasks</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Netflix/conductor/edit/dev/docs/docs/configuration/systask.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="decision">Decision<a class="headerlink" href="#decision" title="Permanent link">&para;</a></h2>
<p>A decision task is similar to <code>case...switch</code> statement in a programming language.
The task takes 3 parameters:</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>caseValueParam</td>
<td>String</td>
<td>Name of the parameter in task input whose value will be used as a switch.</td>
</tr>
<tr>
<td>decisionCases</td>
<td>Map[String, List[task]]</td>
<td>Map where key is possible values of <code>caseValueParam</code> with value being list of tasks to be executed.</td>
</tr>
<tr>
<td>defaultCase</td>
<td>List[task]</td>
<td>List of tasks to be executed when no matching value if found in decision case (default condition)</td>
</tr>
<tr>
<td>caseExpression</td>
<td>String</td>
<td>Case expression to use instead of caseValueParam when the case should depend on complex values. This is a Javascript expression evaluated by the Nashorn Engine. Task names with arithmetic operators should not be used.</td>
</tr>
</tbody>
</table>
<p><strong>Outputs:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>caseOutput</td>
<td>List[String]</td>
<td>A List of string representing the list of cases that matched.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;decide_task&quot;</span><span class="p">,</span>
  <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;decide1&quot;</span><span class="p">,</span>
  <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;case_value_param&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.movieType}&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;DECISION&quot;</span><span class="p">,</span>
  <span class="nt">&quot;caseValueParam&quot;</span><span class="p">:</span> <span class="s2">&quot;case_value_param&quot;</span><span class="p">,</span>
  <span class="nt">&quot;decisionCases&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;Show&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;setup_episodes&quot;</span><span class="p">,</span>
        <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;se1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;movieId&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.movieId}&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;generate_episode_artwork&quot;</span><span class="p">,</span>
        <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;ga&quot;</span><span class="p">,</span>
        <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;movieId&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.movieId}&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;Movie&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;setup_movie&quot;</span><span class="p">,</span>
        <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;sm&quot;</span><span class="p">,</span>
        <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;movieId&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.movieId}&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;generate_movie_artwork&quot;</span><span class="p">,</span>
        <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;gma&quot;</span><span class="p">,</span>
        <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;movieId&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.movieId}&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2 id="event">Event<a class="headerlink" href="#event" title="Permanent link">&para;</a></h2>
<p>Event task provides ability to publish an event (message) to either Conductor or an external eventing system like SQS.  Event tasks are useful for creating event based dependencies for workflows and tasks.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>sink</td>
<td>String</td>
<td>Qualified name of the event that is produced.  e.g. conductor or sqs:sqs_queue_name</td>
</tr>
<tr>
<td>asyncComplete</td>
<td>Boolean</td>
<td><code>false</code> to mark status COMPLETED upon execution ; <code>true</code> to keep it IN_PROGRESS, wait for an external event (via Conductor or SQS or EventHandler) to complete it.</td>
</tr>
</tbody>
</table>
<p><strong>Outputs:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>workflowInstanceId</td>
<td>String</td>
<td>Workflow id</td>
</tr>
<tr>
<td>workflowType</td>
<td>String</td>
<td>Workflow Name</td>
</tr>
<tr>
<td>workflowVersion</td>
<td>Integer</td>
<td>Workflow Version</td>
</tr>
<tr>
<td>correlationId</td>
<td>String</td>
<td>Workflow CorrelationId</td>
</tr>
<tr>
<td>sink</td>
<td>String</td>
<td>Copy of the input data "sink"</td>
</tr>
<tr>
<td>asyncComplete</td>
<td>Boolean</td>
<td>Copy of the input data "asyncComplete</td>
</tr>
<tr>
<td>event_produced</td>
<td>String</td>
<td>Name of the event produced</td>
</tr>
</tbody>
</table>
<p>The published event's payload is identical to the output of the task (except "event_produced").</p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;sink&quot;</span><span class="p">:</span> <span class="s2">&quot;sqs:example_sqs_queue_name&quot;</span><span class="p">,</span>
    <span class="nt">&quot;asyncComplete&quot;</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>


<p>When producing an event with Conductor as sink, the event name follows the structure:
<code>conductor:&lt;workflow_name&gt;:&lt;task_reference_name&gt;</code></p>
<p>For SQS, use the <strong>name</strong> of the queue and NOT the URI.  Conductor looks up the URI based on the name.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using SQS add the <a href="https://github.com/Netflix/conductor/blob/master/contribs/src/main/java/com/netflix/conductor/contribs/ContribsModule.java">ContribsModule</a> to the deployment.  The module needs to be configured with AWSCredentialsProvider for Conductor to be able to use AWS APIs.</p>
</div>
<p><strong>Supported Sinks</strong></p>
<ul>
<li>Conductor</li>
<li>SQS</li>
</ul>
<h2 id="http">HTTP<a class="headerlink" href="#http" title="Permanent link">&para;</a></h2>
<p>An HTTP task is used to make calls to another microservice over HTTP.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>http_request</td>
<td>HttpRequest</td>
<td>JSON object (see below)</td>
</tr>
</tbody>
</table>
<p><code>HttpRequest</code> JSON object:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>uri</td>
<td>String</td>
<td>URI for the service.  Can be a partial when using vipAddress or includes the server address.</td>
</tr>
<tr>
<td>method</td>
<td>String</td>
<td>HTTP method.  One of the GET, PUT, POST, DELETE, OPTIONS, HEAD</td>
</tr>
<tr>
<td>accept</td>
<td>String</td>
<td>Accept header as required by server. Defaults to <code>application/json</code></td>
</tr>
<tr>
<td>contentType</td>
<td>String</td>
<td>Content Type - supported types are <code>text/plain</code>, <code>text/html</code>, and <code>application/json</code> (Default)</td>
</tr>
<tr>
<td>headers</td>
<td>Map[String, Any]</td>
<td>A map of additional http headers to be sent along with the request.</td>
</tr>
<tr>
<td>body</td>
<td>Map[]</td>
<td>Request body</td>
</tr>
<tr>
<td>vipAddress</td>
<td>String</td>
<td>When using discovery based service URLs.</td>
</tr>
<tr>
<td>asyncComplete</td>
<td>Boolean</td>
<td><code>false</code> to mark status COMPLETED upon execution ; <code>true</code> to keep it IN_PROGRESS, wait for an external event (via Conductor or SQS or EventHandler) to complete it.</td>
</tr>
<tr>
<td>oauthConsumerKey</td>
<td>String</td>
<td><a href="https://oauth.net/core/1.0/">OAuth</a> client consumer key</td>
</tr>
<tr>
<td>oauthConsumerSecret</td>
<td>String</td>
<td><a href="https://oauth.net/core/1.0/">OAuth</a> client consumer secret</td>
</tr>
<tr>
<td>connectionTimeOut</td>
<td>Integer</td>
<td>Connection Time Out in milliseconds. If set to 0, equivalent to infinity. Default: 100.</td>
</tr>
<tr>
<td>readTimeOut</td>
<td>Integer</td>
<td>Read Time Out in milliseconds. If set to 0, equivalent to infinity. Default: 150.</td>
</tr>
</tbody>
</table>
<p><strong>Output: (output.response)</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>Map</td>
<td>JSON body containing the response if one is present</td>
</tr>
<tr>
<td>headers</td>
<td>Map[String, Any]</td>
<td>Response Headers</td>
</tr>
<tr>
<td>statusCode (in response object)</td>
<td>Integer</td>
<td><a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">Http Status Code</a></td>
</tr>
<tr>
<td>reasonPhrase</td>
<td>String</td>
<td>Http Status Code's reason phrase</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;application/json&quot;</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;reasonPhrase&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;statusCode&quot;</span><span class="p">:</span> <span class="mi">200</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p><strong>Example</strong></p>
<p>Task Input payload using vipAddress</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;http_request&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;vipAddress&quot;</span><span class="p">:</span> <span class="s2">&quot;examplevip-prod&quot;</span><span class="p">,</span>
    <span class="nt">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
    <span class="nt">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;text/plain&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Task Input using an absolute URL</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;http_request&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
    <span class="nt">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;text/plain&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>The task is marked as <code>FAILED</code> if the request cannot be completed or the remote server returns non successful status code. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>HTTP task currently only supports Content-Type as application/json and is able to parse the text as well as JSON response.  XML input/output is currently not supported.  However, if the response cannot be parsed as JSON or Text, a string representation is stored as a text value.</p>
</div>
<h2 id="sub-workflow">Sub Workflow<a class="headerlink" href="#sub-workflow" title="Permanent link">&para;</a></h2>
<p>Sub Workflow task allows for nesting a workflow within another workflow.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>subWorkflowParam</td>
<td>Map[String, Any]</td>
<td>See below</td>
</tr>
<tr>
<td>inputParameters</td>
<td>Map[String, Any]</td>
<td><code>input</code> of the sub workflow</td>
</tr>
</tbody>
</table>
<p><strong>subWorkflowParam</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the workflow to execute</td>
</tr>
<tr>
<td>version</td>
<td>Integer</td>
<td>Version of the workflow to execute</td>
</tr>
<tr>
<td>taskToDomain</td>
<td>Map[String, String]</td>
<td>Allows scheduling the sub workflow's tasks per given mappings. See <a href="configuration/taskdomains/">Task Domains</a> for instructions to configure taskDomains.</td>
</tr>
<tr>
<td>workflowDefinition</td>
<td><a href="configuration/workflowdef/">WorkflowDefinition</a></td>
<td>Allows starting a subworkflow with a dynamic workflow definition.</td>
</tr>
</tbody>
</table>
<p><strong>Outputs:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>subWorkflowId</td>
<td>String</td>
<td>Subworkflow execution Id generated when running the subworkflow</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;sub_workflow_task&quot;</span><span class="p">,</span>
    <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;sub1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SUB_WORKFLOW&quot;</span><span class="p">,</span>
    <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;anything&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.anythingValue}&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;subWorkflowParam&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;deployment_workflow&quot;</span><span class="p">,</span>
        <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&quot;taskToDomain&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;*&quot;</span><span class="p">:</span> <span class="s2">&quot;mydomain&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;workflowDefinition&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;deployment_workflow&quot;</span><span class="p">,</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Deploys to CDN&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;tasks&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;deploy&quot;</span><span class="p">,</span>
                <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;d1&quot;</span><span class="p">,</span>
                <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span><span class="p">,</span>
                <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;fileLocation&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.encodeLocation}&quot;</span>
                <span class="p">}</span>
            <span class="p">}],</span>
            <span class="nt">&quot;outputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;cdn_url&quot;</span><span class="p">:</span> <span class="s2">&quot;${d1.output.location}&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;failureWorkflow&quot;</span><span class="p">:</span> <span class="s2">&quot;cleanup_encode_resources&quot;</span><span class="p">,</span>
            <span class="nt">&quot;restartable&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;workflowStatusListenerEnabled&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;schemaVersion&quot;</span><span class="p">:</span> <span class="mi">2</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>When executed, a <code>deployment_workflow</code> is executed with its inputs parameters set
to the inputParameters of the <code>sub_workflow_task</code> and the workflow definition specified.<br />
The task is marked as completed upon the completion of the spawned workflow. 
If the sub-workflow is terminated or fails the task is marked as failure and retried if configured. </p>
<h2 id="fork">Fork<a class="headerlink" href="#fork" title="Permanent link">&para;</a></h2>
<p>Fork is used to schedule parallel set of tasks, specified by <code>"type":"FORK_JOIN"</code>.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>forkTasks</td>
<td>A list of list of tasks.  Each sublist is scheduled to be executed in parallel.  However, tasks within the sublists are scheduled in a serial fashion.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;fork_join&quot;</span><span class="p">,</span>
        <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;forkx&quot;</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;FORK_JOIN&quot;</span><span class="p">,</span>
        <span class="nt">&quot;forkTasks&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;task_10&quot;</span><span class="p">,</span>
              <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;task_A&quot;</span><span class="p">,</span>
              <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;task_11&quot;</span><span class="p">,</span>
              <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;task_B&quot;</span><span class="p">,</span>
              <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span>
            <span class="p">}</span>
          <span class="p">],</span>
          <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;task_21&quot;</span><span class="p">,</span>
              <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;task_Y&quot;</span><span class="p">,</span>
              <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;task_22&quot;</span><span class="p">,</span>
              <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;task_Z&quot;</span><span class="p">,</span>
              <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span>
            <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;join&quot;</span><span class="p">,</span>
        <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;join2&quot;</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;JOIN&quot;</span><span class="p">,</span>
        <span class="nt">&quot;joinOn&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;task_B&quot;</span><span class="p">,</span>
          <span class="s2">&quot;task_Z&quot;</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>


<p>When executed, <em>task_A</em> and <em>task_Y</em> are scheduled to be executed at the same time.</p>
<div class="admonition note">
<p class="admonition-title">Fork and Join</p>
<p><strong>A Join task MUST follow FORK_JOIN</strong></p>
<p>Workflow definition MUST include a Join task definition followed by FORK_JOIN task. Forked task can be a Sub Workflow, allowing for more complex execution flows.</p>
</div>
<h2 id="dynamic-fork">Dynamic Fork<a class="headerlink" href="#dynamic-fork" title="Permanent link">&para;</a></h2>
<p>A dynamic fork is same as FORK_JOIN task.  Except that the list of tasks to be forked is provided at runtime using task's input.  Useful when number of tasks to be forked is not fixed and varies based on the input.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>dynamicForkTasksParam</td>
<td>Name of the parameter that contains list of workflow task configuration to be executed in parallel</td>
</tr>
<tr>
<td>dynamicForkTasksInputParamName</td>
<td>Name of the parameter whose value should be a map with key as forked task's reference name and value as input the forked task</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
     <span class="nt">&quot;dynamicTasks&quot;</span><span class="p">:</span> <span class="s2">&quot;${taskA.output.dynamicTasksJSON}&quot;</span><span class="p">,</span>
     <span class="nt">&quot;dynamicTasksInput&quot;</span><span class="p">:</span> <span class="s2">&quot;${taskA.output.dynamicTasksInputJSON}&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;FORK_JOIN_DYNAMIC&quot;</span><span class="p">,</span>
  <span class="nt">&quot;dynamicForkTasksParam&quot;</span><span class="p">:</span> <span class="s2">&quot;dynamicTasks&quot;</span><span class="p">,</span>
  <span class="nt">&quot;dynamicForkTasksInputParamName&quot;</span><span class="p">:</span> <span class="s2">&quot;dynamicTasksInput&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Consider <strong>taskA</strong>'s output as:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;dynamicTasksInputJSON&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;forkedTask1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
      <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
      <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;recipe&quot;</span><span class="p">:</span> <span class="s2">&quot;jpg&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;forkedTask2&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
      <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
      <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;recipe&quot;</span><span class="p">:</span> <span class="s2">&quot;jpg&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;dynamicTasksJSON&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;encode_task&quot;</span><span class="p">,</span>
      <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;forkedTask1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;encode_task&quot;</span><span class="p">,</span>
      <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;forkedTask2&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMPLE&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>When executed, the dynamic fork task will schedule two parallel task of type "encode_task" with reference names "forkedTask1" and "forkedTask2" and inputs as specified by _ dynamicTasksInputJSON_</p>
<div class="admonition note">
<p class="admonition-title">Dynamic Fork and Join</p>
<p><strong>A Join task MUST follow FORK_JOIN_DYNAMIC</strong></p>
<p>Workflow definition MUST include a Join task definition followed by FORK_JOIN_DYNAMIC task.  However, given the dynamic nature of the task, no joinOn parameters are required for this Join.  The join will wait for ALL the forked branches to complete before completing.</p>
<p>Unlike FORK, which can execute parallel flows with each fork executing a series of tasks in  sequence, FORK_JOIN_DYNAMIC is limited to only one task per fork.  However, forked task can be a Sub Workflow, allowing for more complex execution flows.</p>
</div>
<h2 id="join">Join<a class="headerlink" href="#join" title="Permanent link">&para;</a></h2>
<p>Join task is used to wait for completion of one or more tasks spawned by fork tasks.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>joinOn</td>
<td>List of task reference name, for which the JOIN will wait for completion.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;joinOn&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;taskRef1&quot;</span><span class="p">,</span> <span class="s2">&quot;taskRef3&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p><strong>Join Task Output</strong>
Fork task's output will be a JSON object with key being the task reference name and value as the output of the fork task.</p>
<h2 id="exclusive-join">Exclusive Join<a class="headerlink" href="#exclusive-join" title="Permanent link">&para;</a></h2>
<p>Exclusive Join task helps capture Task output from Decision Task's flow.</p>
<p>For example, If we have a Workflow with T1 -&gt; [Decision: T2/T3] -&gt; EJ, then based on the decision, Exclusive Join (EJ) will produce the output from T2 or T3. I.e What ever is the output of one of T2/T3 will be available to downstream tasks through Exclusive Join task.</p>
<p>If Decision Task takes True/False as cases, then:</p>
<ul>
<li>True: T1 -&gt; T2 -&gt; EJ; EJ will have T2's output.</li>
<li>False: T1 -&gt; T3 -&gt; EJ; EJ will have T3's output.</li>
<li>Undefined: T1 -&gt; EJ; EJ will have T1's output.</li>
</ul>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>joinOn</td>
<td>List of task reference names, which the EXCLUSIVE_JOIN will lookout for to capture output. From above example, this could be ["T2", "T3"]</td>
</tr>
<tr>
<td>defaultExclusiveJoinTask</td>
<td>Task reference name, whose output should be used incase the decision case is undefined. From above example, this could be ["T1"]</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;exclusive_join&quot;</span><span class="p">,</span>
  <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;exclusiveJoin&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;EXCLUSIVE_JOIN&quot;</span><span class="p">,</span>
  <span class="nt">&quot;joinOn&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;task2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;task3&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;defaultExclusiveJoinTask&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;task1&quot;</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h2 id="wait">Wait<a class="headerlink" href="#wait" title="Permanent link">&para;</a></h2>
<p>A wait task is implemented as a gate that remains in <code>IN_PROGRESS</code> state unless marked as <code>COMPLETED</code> or <code>FAILED</code> by an external trigger.
To use a wait task, set the task type as <code>WAIT</code></p>
<p><strong>Parameters:</strong>
None required.</p>
<p><strong>External Triggers for Wait Task</strong></p>
<p>Task Resource endpoint can be used to update the status of a task to a terminate state. </p>
<p>Contrib module provides SQS integration where an external system can place a message in a pre-configured queue that the server listens on.  As the messages arrive, they are marked as <code>COMPLETED</code> or <code>FAILED</code>.  </p>
<p><strong>SQS Queues</strong></p>
<ul>
<li>SQS queues used by the server to update the task status can be retrieve using the following API:</li>
</ul>
<div class="codehilite"><pre><span></span><span class="err">GET /queue</span>
</pre></div>


<ul>
<li>When updating the status of the task, the message needs to conform to the following spec:<ul>
<li>Message has to be a valid JSON string.</li>
<li>The message JSON should contain a key named <code>externalId</code> with the value being a JSONified string that contains the following keys:<ul>
<li><code>workflowId</code>: Id of the workflow</li>
<li><code>taskRefName</code>: Task reference name that should be updated.</li>
</ul>
</li>
<li>Each queue represents a specific task status and tasks are marked accordingly.  e.g. message coming to a <code>COMPLETED</code> queue marks the task status as <code>COMPLETED</code>.</li>
<li>Tasks' output is updated with the message.</li>
</ul>
</li>
</ul>
<p><strong>Example SQS Payload:</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;some_key&quot;</span><span class="p">:</span> <span class="s2">&quot;valuex&quot;</span><span class="p">,</span>
  <span class="nt">&quot;externalId&quot;</span><span class="p">:</span> <span class="s2">&quot;{\&quot;taskRefName\&quot;:\&quot;TASK_REFERENCE_NAME\&quot;,\&quot;workflowId\&quot;:\&quot;WORKFLOW_ID\&quot;}&quot;</span>
<span class="p">}</span>
</pre></div>


<h2 id="dynamic-task">Dynamic Task<a class="headerlink" href="#dynamic-task" title="Permanent link">&para;</a></h2>
<p>Dynamic Task allows to execute one of the registered Tasks dynamically at run-time. It accepts the task name to execute in inputParameters.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>dynamicTaskNameParam</td>
<td>Name of the parameter from the task input whose value is used to schedule the task.  e.g. if the value of the parameter is ABC, the next task scheduled is of type 'ABC'.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;user_task&quot;</span><span class="p">,</span>
  <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;t1&quot;</span><span class="p">,</span>
  <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.files}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;taskToExecute&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.user_supplied_task}&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;DYNAMIC&quot;</span><span class="p">,</span>
  <span class="nt">&quot;dynamicTaskNameParam&quot;</span><span class="p">:</span> <span class="s2">&quot;taskToExecute&quot;</span>
<span class="p">}</span>
</pre></div>


<p>If the workflow is started with input parameter user_supplied_task's value as <strong>user_task_2</strong>, Conductor will schedule <strong>user_task_2</strong> when scheduling this dynamic task.</p>
<h2 id="lambda-task">Lambda Task<a class="headerlink" href="#lambda-task" title="Permanent link">&para;</a></h2>
<p>Lambda Task helps execute ad-hoc logic at Workflow run-time, using javax &amp; <code>Nashorn</code> Javascript evaluator engine.</p>
<p>This is particularly helpful in running simple evaluations in Conductor server, over creating Workers.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>scriptExpression</td>
<td>String</td>
<td>Javascript (<code>Nashorn</code>) evaluation expression defined as a string. Must return a value.</td>
<td>Must be non-empty.</td>
</tr>
</tbody>
</table>
<p>Besides <code>scriptExpression</code>, any value is accessible as <code>$.value</code> for the <code>scriptExpression</code> to evaluate.</p>
<p><strong>Outputs:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>Map</td>
<td>Contains the output returned by the <code>scriptExpression</code></td>
</tr>
</tbody>
</table>
<p>The task output can then be referenced in downstream tasks like:
<code>"${lambda_test.output.result.testvalue}"</code></p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;LAMBDA_TASK&quot;</span><span class="p">,</span>
  <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;lambda_test&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;LAMBDA&quot;</span><span class="p">,</span>
  <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;lambdaValue&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.lambdaValue}&quot;</span><span class="p">,</span>
      <span class="nt">&quot;scriptExpression&quot;</span><span class="p">:</span> <span class="s2">&quot;if ($.lambdaValue == 1){ return {testvalue: true} } else { return {testvalue: false} }&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2 id="terminate-task">Terminate Task<a class="headerlink" href="#terminate-task" title="Permanent link">&para;</a></h2>
<p>Task that can terminate a workflow with a given status and modify the workflow's output with a given parameter. It can act as a "return" statement for conditions where you simply want to terminate your workflow.</p>
<p>For example, if you have a decision where the first condition is met, you want to execute some tasks, otherwise you want to finish your workflow.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>terminationStatus</td>
<td>String</td>
<td>can only accept "COMPLETED" or "FAILED"</td>
<td>task cannot be optional</td>
</tr>
<tr>
<td>workflowOutput</td>
<td>Any</td>
<td>Expected workflow output</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Outputs:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>output</td>
<td>Map</td>
<td>The content of <code>workflowOutput</code> from the inputParameters. An empty object if <code>workflowOutput</code> is not set.</td>
</tr>
</tbody>
</table>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;terminate&quot;</span><span class="p">,</span>
  <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;terminate0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;terminationStatus&quot;</span><span class="p">:</span> <span class="s2">&quot;COMPLETED&quot;</span><span class="p">,</span>
      <span class="nt">&quot;workflowOutput&quot;</span><span class="p">:</span> <span class="s2">&quot;${task0.output}&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;TERMINATE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;startDelay&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>


<h2 id="kafka-publish-task">Kafka Publish Task<a class="headerlink" href="#kafka-publish-task" title="Permanent link">&para;</a></h2>
<p>A kafka Publish task is used to push messages to another microservice via kafka.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>kafka_request</td>
<td>kafkaRequest</td>
<td>JSON object (see below)</td>
</tr>
<tr>
<td>asyncComplete</td>
<td>Boolean</td>
<td><code>false</code> to mark status COMPLETED upon execution ; <code>true</code> to keep it IN_PROGRESS, wait for an external event (via Conductor or SQS or EventHandler) to complete it.</td>
</tr>
</tbody>
</table>
<p><code>kafkaRequest</code> JSON object:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bootStrapServers</td>
<td>bootStrapServers for connecting to given kafka.</td>
</tr>
<tr>
<td>key</td>
<td>Key to be published</td>
</tr>
<tr>
<td>keySerializer</td>
<td>Serializer used for serializing the key published to kafka.  One of the following can be set : <br/> 1. org.apache.kafka.common.serialization.IntegerSerializer<br/>2. org.apache.kafka.common.serialization.LongSerializer<br/>3. org.apache.kafka.common.serialization.StringSerializer. <br/>Default is String serializer</td>
</tr>
<tr>
<td>value</td>
<td>Value published to kafka</td>
</tr>
<tr>
<td>requestTimeoutMs</td>
<td>Request timeout while publishing to kafka. If this value is not given the value is read from the property <code>kafka.publish.request.timeout.ms</code>. If the property is not set the value defaults to 100 ms</td>
</tr>
<tr>
<td>maxBlockMs</td>
<td>maxBlockMs while publishing to kafka. If this value is not given the value is read from the property <code>kafka.publish.max.block.ms</code>. If the property is not set the value defaults to 500 ms</td>
</tr>
<tr>
<td>headers</td>
<td>A map of additional kafka headers to be sent along with the request.</td>
</tr>
<tr>
<td>topic</td>
<td>Topic to publish</td>
</tr>
</tbody>
</table>
<p>The producer created in the kafka task is cached. By default the cache size is 10 and expiry time is 120000 ms. To change the defaults following can be modified kafka.publish.producer.cache.size,kafka.publish.producer.cache.time.ms respectively.  </p>
<p><strong>Example</strong></p>
<p>Task sample</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;call_kafka&quot;</span><span class="p">,</span>
  <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;call_kafka&quot;</span><span class="p">,</span>
  <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;asyncComplete&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nt">&quot;kafka_request&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;topic&quot;</span><span class="p">:</span> <span class="s2">&quot;userTopic&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Message to publish&quot;</span><span class="p">,</span>
      <span class="nt">&quot;bootStrapServers&quot;</span><span class="p">:</span> <span class="s2">&quot;localhost:9092&quot;</span><span class="p">,</span>
      <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;x-Auth&quot;</span><span class="p">:</span><span class="s2">&quot;Auth-key&quot;</span>    
      <span class="p">},</span>
      <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">,</span>
      <span class="nt">&quot;keySerializer&quot;</span><span class="p">:</span> <span class="s2">&quot;org.apache.kafka.common.serialization.IntegerSerializer&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;KAFKA_PUBLISH&quot;</span>
<span class="p">}</span>
</pre></div>


<p>The task is marked as <code>FAILED</code> if the message could not be published to the Kafka queue. </p>
<h2 id="do-while-task">Do While Task<a class="headerlink" href="#do-while-task" title="Permanent link">&para;</a></h2>
<p>Sequentially execute a list of task as long as a condition is true. The list of tasks is executed first, before the condition is
checked (even for the first iteration).</p>
<p>When scheduled, each task of this loop will see its <code>taskReferenceName</code> concatenated with <code>__i</code>, with <code>i</code> being the
iteration number, starting at 1. Warning: <code>taskReferenceName</code> containing arithmetic operators must not be used.</p>
<p>Each task output is stored as part of the <code>DO_WHILE</code> task, indexed by the iteration value (see example below), allowing
the condition to reference the output of a task for a specific iteration (eg. <code>$.LoopTask['iteration]['first_task']</code>)</p>
<p>The <code>DO_WHILE</code> task is set to <code>FAILED</code> as soon as one of the loopTask fails. In such case retry, iteration starts from 1.</p>
<p>Limitations:
 - Domain or isolation group execution is unsupported;
 - Nested <code>DO_WHILE</code> is unsupported;
 - <code>SUB_WORKFLOW</code> is unsupported;
 - Since loopover tasks will be executed in loop inside scope of parent do while task, crossing branching outside of DO_WHILE
   task is not respected. Branching inside loopover task is supported.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>loopCondition</td>
<td>String</td>
<td>Condition to be evaluated after every iteration. This is a Javascript expression, evaluated using the Nashorn engine. If an exception occurs during evaluation, the DO_WHILE task is set to FAILED_WITH_TERMINAL_ERROR.</td>
</tr>
<tr>
<td>loopOver</td>
<td>List[Task]</td>
<td>List of tasks that needs to be executed as long as the condition is true.</td>
</tr>
</tbody>
</table>
<p><strong>Outputs:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>iteration</td>
<td>Integer</td>
<td>Iteration number: the current one while executing; the final one once the loop is finished</td>
</tr>
<tr>
<td><code>i</code></td>
<td>Map[String, Any]</td>
<td>Iteration number as a string, mapped to the task references names and their output.</td>
</tr>
<tr>
<td>*</td>
<td>Any</td>
<td>Any state can be stored here if the <code>loopCondition</code> does so. For example <code>storage</code> will exist if <code>loopCondition</code> is <code>if ($.LoopTask['iteration'] &lt;= 10) {$.LoopTask.storage = 3; true } else {false}</code></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>The following definition:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Loop Task&quot;</span><span class="p">,</span>
    <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;LoopTask&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;DO_WHILE&quot;</span><span class="p">,</span>
    <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;${workflow.input.value}&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;loopCondition&quot;</span><span class="p">:</span> <span class="s2">&quot;if ( ($.LoopTask[&#39;iteration&#39;] &lt; $.value ) || ( $.first_task[&#39;response&#39;][&#39;body&#39;] &gt; 10)) { false; } else { true; }&quot;</span><span class="p">,</span>
    <span class="nt">&quot;loopOver&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;first task&quot;</span><span class="p">,</span>
            <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;first_task&quot;</span><span class="p">,</span>
            <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;http_request&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8082&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;POST&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;HTTP&quot;</span>
        <span class="p">},{</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;second task&quot;</span><span class="p">,</span>
            <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;second_task&quot;</span><span class="p">,</span>
            <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;http_request&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8082&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;POST&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;HTTP&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;startDelay&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>


<p>will produce the following execution, assuming 3 executions occurred (alongside <code>first_task__1</code>, <code>first_task__2</code>, <code>first_task__3</code>,
<code>second_task__1</code>, <code>second_task__2</code> and <code>second_task__3</code>):</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;taskType&quot;</span><span class="p">:</span> <span class="s2">&quot;DO_WHILE&quot;</span><span class="p">,</span>
    <span class="nt">&quot;outputData&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;iteration&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nt">&quot;1&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;first_task&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;second_task&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;2&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;first_task&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;second_task&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;3&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;first_task&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;second_task&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2 id="json-jq-transform-task">JSON JQ Transform Task<a class="headerlink" href="#json-jq-transform-task" title="Permanent link">&para;</a></h2>
<p>JSON JQ Transform task allows transforming a JSON input to another JSON structure using a query expression.</p>
<p>Check the <a href="https://stedolan.github.io/jq/manual/v1.5/">Jq manual</a>, and the <a href="https://jqplay.org/">Jq playground</a>
for more information.</p>
<p>Limitations:
 - The java implementation support most, but not all jq functions. See <a href="https://github.com/eiiches/jackson-jq">the lib</a> for details.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>queryExpression</td>
<td>String</td>
<td>JQ query expression. Input is the entire <code>inputParameters</code> object.</td>
</tr>
</tbody>
</table>
<p><strong>Outputs:</strong></p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>Any</td>
<td>First result returned by the jq expression</td>
</tr>
<tr>
<td>resultList</td>
<td>List[Any]</td>
<td>List of all results returned by the jq expression</td>
</tr>
<tr>
<td>error</td>
<td>String</td>
<td>Error, if the query throws an error.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>The following definition:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;jq_1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;jq_1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON_JQ_TRANSFORM&quot;</span><span class="p">,</span>
    <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;in1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;arr&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span> <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;in2&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;arr&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span> <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;queryExpression&quot;</span><span class="p">:</span> <span class="s2">&quot;{ out: (.in1.arr + .in2.arr) }&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>will produce the following execution:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;jq_1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;task-execution&quot;</span><span class="p">,</span>
    <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;jq_1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;taskType&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON_JQ_TRANSFORM&quot;</span><span class="p">,</span>
    <span class="nt">&quot;inputData&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;in1&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;arr&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span> <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;in2&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;arr&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span> <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;queryExpression&quot;</span><span class="p">:</span> <span class="s2">&quot;{ out: (.in1.arr + .in2.arr) }&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;outputData&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;out&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;resultList&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;out&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2 id="set-variable-task">Set Variable Task<a class="headerlink" href="#set-variable-task" title="Permanent link">&para;</a></h2>
<p>This task allows to set workflow variables by creating or updating them with new values.
Variables can be initialized in the workflow definition as well as during the workflow run.
Once a variable was initialized it can be read or overwritten with a new value by any other task.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is a hard barrier for variables payload size in KB defined in the JVM system properties (<code>conductor.max.workflow.variables.payload.threshold.kb</code>) the default value is <code>256</code>. Passing this barrier will fail the task and the workflow.</p>
</div>
<p><strong>Parameters:</strong></p>
<p>The parameters for this task are the variable names with their respective values.</p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SET_VARIABLE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;set_stage_start&quot;</span><span class="p">,</span>
  <span class="nt">&quot;taskReferenceName&quot;</span><span class="p">:</span> <span class="s2">&quot;set_stage_start&quot;</span><span class="p">,</span>
  <span class="nt">&quot;inputParameters&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;stage&quot;</span><span class="p">:</span> <span class="s2">&quot;START&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Later in that workflow, the variable can be referenced by <code>"${workflow.variables.stage}"</code></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../eventhandlers/" class="btn btn-neutral float-right" title="Event Handlers">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../workflowdef/" class="btn btn-neutral" title="Workflow Definition"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/Netflix/conductor/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../workflowdef/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../eventhandlers/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
